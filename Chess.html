<html> 
<head> 

<style>
     
    table{
        border-collapse: collapse;
		width: 100px;
		height: 100px;
       
    }
    tr,td{        
        
    border: 2px solid black;
    height: 100px;
    min-height: 100px;
    min-width: 100px;
    width: 100px;
        
    }
    td{
        text-align: center;
		font-size:30px;
	
		
    }
  
    
    
</style>
<script type="text/javascript">
window.onload = function ()
{
board=document.getElementById("Chess_board");
create_chess_board(board);
}
function create_chess_board(board)
{
chess_rows=["a","b","c","d","e","f","g","h"];
for(var i=0;i<8;i++){
    if(i%2==0){
row=board.insertRow();
row.id=chess_rows[i];
//console.log("Even rows  " +row.id);
add_even_Cells_Row(row);
    }
	else{
     row=board.insertRow();
	 row.id=chess_rows[i];
	
add_odd_Cells_Row(row);   
        
    }
  
}
    
arrange_board(board); 

}//create chess board
function add_odd_Cells_Row(row){
for(var i=0;i<8;i++){
cell=row.insertCell();
cell.id=row.id+i;
    if(i%2==0){
        cell.style.backgroundColor="7c7c7c";
		    }
	cell.draggable="true";
	cell.className="droptarget";
    row.appendChild(cell);

}//for
} //add_odd_cells_Row
  function add_even_Cells_Row(row){
      
      for(var i=0;i<8;i++){
	cell=row.insertCell();
	  cell.id=row.id+i;	  
    if(i%2!=0){
        cell.style.backgroundColor="7c7c7c";        
			}
	cell.draggable="true";
	cell.className="droptarget";
	
    row.appendChild(cell);

}//for
      
  }//add_even_cells  
  
 function arrange_board(){
//arranging white and black pawns
var white_pawn_row="b";
var black_pawn_row="g";
for(var i=0;i<8;i++){
    
    var div=document.createElement("div");
    div.innerHTML="&#9817";
    div.className="pawn";
    div.id="pawn_White"+i;
    document.getElementById(white_pawn_row+i).appendChild(div);  
    var div1=document.createElement("div");
    div1.innerHTML="&#9823";
    div1.className="pawn";
    div1.id="pawn_Black"+i;
    document.getElementById(black_pawn_row+i).appendChild(div1);
}

//adding firts row elements rook,knight,bishoop,queen,king
var white_starting_position="a";
var black_starting_position="h";

//adding rook's both sides     
document.getElementById(white_starting_position+0).appendChild(create_coin_level_div(9814,(white_starting_position+0)));
document.getElementById(white_starting_position+7).appendChild(create_coin_level_div(9814,(white_starting_position+7)));

document.getElementById(black_starting_position+0).appendChild(create_coin_level_div(9820,(black_starting_position+0)));
document.getElementById(black_starting_position+7).appendChild(create_coin_level_div(9820,(black_starting_position+7)));

															   
//adding knights both sides

document.getElementById(white_starting_position+1).appendChild(create_coin_level_div(9816,(white_starting_position+1)));
document.getElementById(white_starting_position+6).appendChild(create_coin_level_div(9816,(white_starting_position+6)));
document.getElementById(black_starting_position+1).appendChild(create_coin_level_div(9822,(black_starting_position+1)));
document.getElementById(black_starting_position+6).appendChild(create_coin_level_div(9822,(black_starting_position+6)));

//adding bishop's both sides
															   
document.getElementById(white_starting_position+2).appendChild(create_coin_level_div(9815,(white_starting_position+2)));
document.getElementById(white_starting_position+5).appendChild(create_coin_level_div(9815,(white_starting_position+5)));

document.getElementById(black_starting_position+2).appendChild(create_coin_level_div(9821,(black_starting_position+2)));
document.getElementById(black_starting_position+5).appendChild(create_coin_level_div(9821,(black_starting_position+5)));

//adding queen's both sides

document.getElementById(white_starting_position+4).appendChild(create_coin_level_div(9813,(white_starting_position+4)));

document.getElementById(black_starting_position+4).appendChild(create_coin_level_div(9819,(black_starting_position+4)));

//adding king's both sides

document.getElementById(white_starting_position+3).appendChild(create_coin_level_div(9812,(white_starting_position+3)));

document.getElementById(black_starting_position+3).appendChild(create_coin_level_div(9818,(black_starting_position+3)));
} //arrange board
  
 document.addEventListener("dragstart", function(event) {
    pawn=document.getElementById(event.target.id).innerHTML;
	Start_Position=document.getElementById(event.target.id).id;
	if(check_rules_chess(pawn)){
	event.dataTransfer.effectAllowed = 'copy';
    event.dataTransfer.setData("Element_Move", event.target.id);
   
   }else console.log("Invalid move");
   
});


document.addEventListener("dragover", function(event) {
    event.preventDefault();
	//var element_code = document.getElementById(event.target.id).innerHTML;
	//console.log("checking log value at drag over event"+event.target.id);
	 if(Start_Position==event.target.id)
	 document.getElementById(event.target.id).innerHTML="";
	
	});
	


document.addEventListener("drop", function(event) {
    event.preventDefault();
	
    if ( event.target.className == "droptarget" ) {
        var data = event.dataTransfer.getData("Element_Move");
		//console.log("From drop end....!"+event.target.id);
		Ending_position= document.getElementById(event.target.id).id;
		//console.log("pawn is ended in this position "+Ending_position);
		 document.getElementById(event.target.id).innerHTML=pawn;
		//console.log(event.target.id);
    }
	
	
	
});



function check_rules_chess(pawn){

if(pawn.charCodeAt(0)==9817 || pawn.charCodeAt(0)==9823){
console.log("It is a pawn,Should move frorwd direction only");
console.log("The pawn postion is --->"+Start_Position + " Next postion it should be moved to Start_Position+1"+(Start_Position+1));
}
else if(pawn.charCodeAt(0)==9814 || pawn.charCodeAt(0)==9820)
console.log("Rooks starting position here");
else
console.log("thinking about other options here");


return true;


}
    
    
    function create_coin_level_div(coincode,position){
        
        var div=document.createElement("div");
		switch(coincode){
                
			case 9814:
				div.innerHTML="&#9814";
				div.className="div_rook";
				div.id="div_rook_"+position;
				break;
				
			case 9820:
				div.innerHTML="&#9820";
				div.className="div_rook";
				div.id="div_rook_"+position;
				break;
				
			case 9816:
				div.innerHTML="&#9816";
				div.className="div_knight";
				div.id="div_knight_"+position;
				break;
			case 9822:
				div.innerHTML="&#9822";
				div.className="div_knight";
				div.id="div_knight_"+position;
				break;
			case 9815:
				div.innerHTML="&#9815";
				div.className="div_bishop";
				div.id="div_bishop_"+position;
				break;
			case 9821:
				div.innerHTML="&#9821";
				div.className="div_bishop";
				div.id="div_bishop_"+position;
				break;
			case 9813:
				div.innerHTML="&#9813";
				div.className="div_queen";
				div.id="div_queen_"+position;
				break;
			case 9819:
				div.innerHTML="&#9819";
				div.className="div_queen";
				div.id="div_queen_"+position;
				break;
			case 9812:
				div.innerHTML="&#9812";
				div.className="div_king";
				div.id="div_king_"+position;
				break;
			case 9818:
				div.innerHTML="&#9818";
				div.className="div_king";
				div.id="div_king_"+position;
				break;
				
				
				
				
				
				
        }
        
        return div;
        
        
        
        
        
    }
	


 
    
</script>

</head>

<body>
<table id="Chess_board">
</table> 

</body> 
</html>
